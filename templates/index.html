<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>

    <title>Team NARK</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f6f6f6;
            text-align: center;
        }

        canvas {
            max-width: 1200px;
            margin: 50px auto;
        }
    </style>
</head>

<body>
    <div class="jumbotron">
        <div class="container">
            <h1>Team NARK CS 410 Project</h1>
            <p>Performing sentiment analysis on Reddit posts</p>
        </div>
    </div>
    <div class="container">
        <h4 style="display: inline">r/ </h4><input type="text" id="user_input_text">
        <button type="button" class="btn btn-primary" id="submit_button" onclick="myFunction()">Submit</button>
    </div>
    <!-- <div class="container">
        <h2>{{ v0 }}</h2>
        <ul class="list-group">
            <li>{{ v1 }}</li>
            <li>{{ v2 }}</li>
            <li>{{ v3 }}</li>
            <li>{{ v4 }}</li>
            <li>{{ v5 }}</li>
            <li>{{ v6 }}</li>
            <li>{{ v7 }}</li>
            <li>{{ v8 }}</li>
            <li>{{ v9 }}</li>
            <li>{{ v10 }}</li>
        </ul>
    </div> -->
    <div>
    <h2>Sentiment Analysis Scores</h2>

    <canvas id="barChart"></canvas>
    <script>
        // import axios from 'axios'
        function myFunction() {
            var enteredText = user_input_text.value;
            // console.log("Entered text: " + enteredText);
            alert("Entered text: " + enteredText);
            // Need to add rest of backend submission code here.
        }
        // Data for the chart
        var data = {
            labels: ['v1', 'v2', 'v3', 'v4', 'v5', 'v6', 'v7', 'v8', 'v9', 'v10'],
            datasets: [{
                label: 'Scores',
                backgroundColor: '#36b6ff',
                data: [10, 20, 30, 40, 50, 60, 70, 80, 90, 100],
            }]
        };

        // Chart configuration
        var options = {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        };

        // Get the canvas element
        var ctx = document.getElementById('barChart').getContext('2d');

        // Create a vertical bar chart
        var myBarChart = new Chart(ctx, {
            type: 'bar',
            data: data,
            options: options
        });
    </script>
    </div>
        
    <div>
        <h2> Objective vs Subjective Posts </h2>
    
        <!-- creates a table with sentiment type and number of posts -->
        <!-- <table class="table table-striped" >
            <thead>
              <tr>
                <th scope="col">Sentiment Type</th>
                <th scope="col">Number of Posts</th>
              </tr>
            </thead>
            <tbody>
        {% for key, value in objective_subjective_dict.items() %}
          <tr>
            <th scope="row">{{ key }}</th>
            <td>{{ value }}</td>
          </tr>
          {% endfor %}
        </tbody>
        </table> -->

        <!-- code attempting bar chart for obj vs subj -->
        <canvas id="barChart1"></canvas>

        <!-- this creates output of objective and subjective on bottom of screen
        {% for e in objective_subjective_dict %}
        {{e}} : {{objective_subjective_dict[e]}}
    {% endfor %}
        -->

        <script type="text/javascript">
            var sub = '{{objective_subjective_dict.subjective}}';
            var obj = '{{objective_subjective_dict.objective}}';
            var data1 = {
                labels: ['objective', 'subjective'],
                datasets: [{
                    label: 'Scores',
                    backgroundColor: '#36b6ff',
                    data: [sub, obj],
                }]
            };

            // Chart configuration
            var options = {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            };
    
            // Get the canvas element
            var ctx = document.getElementById('barChart1').getContext('2d');
    
            // Create a vertical bar chart
            var myBarChart = new Chart(ctx, {
                type: 'bar',
                data: data1,
                options: options
            });
        </script>
        </div>   
</body>

</html>